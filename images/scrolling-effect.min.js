"use strict";const mdpScrollingEffect={addScrollingEffect:function(e,t,n){if(!e)return;if(!document.querySelector(`.${n}`))return;e.style.transform=this.setTransformStyles(e,t),e.style.opacity=this.setTransparencyScrollEffect(e,t),e.style.filter=this.setBlurScrollEffect(e,t),e.style.transition=`all ${t.mdp_selection_scrolling_effect_transition_duration.size}s`;const s=()=>{document.querySelector(`.${n}`)?(e.style.transform=this.setTransformStyles(e,t),e.style.opacity=this.setTransparencyScrollEffect(e,t),e.style.filter=this.setBlurScrollEffect(e,t)):window.removeEventListener("scroll",s)};window.addEventListener("scroll",s)},setScrollingEffect:function(e){const t=elementorFrontend.isEditMode(),n=t?elementorFrontend.config.elements.data:[];let s={};if(t)if(e.dataset.modelCid){const t=n[e.dataset.modelCid].attributes;for(let e in t)e.startsWith("mdp_selection_scrolling_effect")&&(s[e]=t[e])}else e.dataset.settings&&(s=JSON.parse(e.dataset.settings));else!t&&e.dataset.settings&&(s=JSON.parse(e.dataset.settings));"yes"===s.mdp_selection_scrolling_effect_enable?(e.classList.add(`mdp-selection-scrolling-effect-${e.dataset.id}`),this.checkScreenSize(s.mdp_selection_scrolling_effect_enable_on,this.addScrollingEffect.bind(mdpScrollingEffect,e,s,`mdp-selection-scrolling-effect-${e.dataset.id}`))):(e.classList.remove(`mdp-selection-scrolling-effect-${e.dataset.id}`),e.style.removeProperty("transform"),e.style.removeProperty("opacity"),e.style.removeProperty("transition"),e.style.removeProperty("filter"))},setTransformStyles(e,t){let n="";return"yes"===t.mdp_selection_scrolling_effect_vertical_enable&&(n+=this.transformScrollEffect(e,t.mdp_selection_scrolling_effect_vertical_speed.size,t.mdp_selection_scrolling_effect_vertical_direction,t.mdp_selection_scrolling_effect_vertical_viewport,"vertical",t.mdp_selection_scrolling_effect_relative_to)),"yes"===t.mdp_selection_scrolling_effect_horizontal_enable&&(n+=this.transformScrollEffect(e,t.mdp_selection_scrolling_effect_horizontal_speed.size,t.mdp_selection_scrolling_effect_horizontal_direction,t.mdp_selection_scrolling_effect_horizontal_viewport,"horizontal",t.mdp_selection_scrolling_effect_relative_to)),"yes"===t.mdp_selection_scrolling_effect_rotate_enable&&(e.style.transformOrigin=`${t.mdp_selection_scrolling_effect_x_anchor} \n                    ${t.mdp_selection_scrolling_effect_y_anchor}`,n+=this.transformScrollEffect(e,t.mdp_selection_scrolling_effect_rotate_speed.size,t.mdp_selection_scrolling_effect_rotate_direction,t.mdp_selection_scrolling_effect_rotate_viewport,"rotate",t.mdp_selection_scrolling_effect_relative_to)),"yes"===t.mdp_selection_scrolling_effect_scale_enable&&(e.style.transformOrigin=`${t.mdp_selection_scrolling_effect_x_anchor} \n                    ${t.mdp_selection_scrolling_effect_y_anchor}`,n+=this.transformScrollEffect(e,t.mdp_selection_scrolling_effect_scale_speed.size,t.mdp_selection_scrolling_effect_scale_direction,t.mdp_selection_scrolling_effect_scale_viewport.sizes,"scale",t.mdp_selection_scrolling_effect_relative_to)),n},getPassedPercents:function(e){const t=e.getBoundingClientRect(),n=0*window.innerHeight/100,s=0*window.innerHeight/100,o=t.top-window.innerHeight,i=0-o+n,c=t.top+n+t.height-o+s,l=Math.max(0,Math.min(i/c,1));return parseFloat((100*l).toFixed(2))},getPassedPageScrollPercents:function(){const e=document.documentElement.scrollHeight-document.documentElement.clientHeight,t=0*e/100,n=e+t+0*e/100;return(document.documentElement.scrollTop+document.body.scrollTop+t)/n*100},updateTransform:function(e,t,n,s){return s.sizes.start>t&&(t=s.sizes.start),s.sizes.end<t&&(t=s.sizes.end),"down"!==e&&"right"!==e||(t=100-t),-(t-50)*n},transformScrollEffect:function(e,t,n,s,o,i){let c="";const l="entire-page"===i?this.getPassedPageScrollPercents():this.getPassedPercents(e.parentNode);return"vertical"===o?c=`translateY(${this.updateTransform(n,l,t,s)}px) `:"horizontal"===o?c=`translateX(${this.updateTransform(n,l,t,s)}px) `:"rotate"===o?c=`rotateZ(${this.updateTransform(n,l,t,s)}deg) `:"scale"===o&&(c=`scale(${this.updateScaleEffect(e,t,n,s,i)}) `),c},getPassedPercentsMovePoint:function(e,t,n){let s;return e<t.start?"effect-in"===n?s=0:"effect-out"===n?s=100:(s=(e/t.start*100).toFixed(2),"effect-out-in"===n&&(s=100-s)):e<t.end?"effect-out-in"===n?s=0:"effect-in-out"===n?s=100:(s=((e-t.start)/(t.end-t.start)*100).toFixed(2),"effect-out"===n&&(s=100-s)):"effect-out"===n?s=0:"effect-in"===n?s=100:(s=((100-e)/(100-t.end)*100).toFixed(2),"effect-out-in"===n&&(s=100-s)),s},updateScaleEffect:function(e,t,n,s,o){return 1+t*this.getPassedPercentsMovePoint("viewport"===o?this.getPassedPercents(e.parentNode):this.getPassedPageScrollPercents(),s,n)/1e3},updateOpacity:function(e,t,n,s,o){const i="viewport"===o?this.getPassedPercents(e.parentNode):this.getPassedPageScrollPercents(),c=t/10;return 1-c+c*this.getPassedPercentsMovePoint(i,s,n)/100},setTransparencyScrollEffect:function(e,t){return"yes"===t.mdp_selection_scrolling_effect_transparency_enable?this.updateOpacity(e,t.mdp_selection_scrolling_effect_transparency_speed.size,t.mdp_selection_scrolling_effect_transparency_direction,t.mdp_selection_scrolling_effect_transparency_viewport.sizes,t.mdp_selection_scrolling_effect_relative_to):""},updateBlur:function(e,t,n,s,o){let i="viewport"===o?this.getPassedPercents(e.parentNode):this.getPassedPageScrollPercents();n.start>i&&(i=n.start),n.end<i&&(i=n.end);return t-t*this.getPassedPercentsMovePoint(i,n,s)/100},setBlurScrollEffect:function(e,t){return"yes"===t.mdp_selection_scrolling_effect_blur_enable?`blur(${this.updateBlur(e,t.mdp_selection_scrolling_effect_blur_speed.size,t.mdp_selection_scrolling_effect_blur_viewport.sizes,t.mdp_selection_scrolling_effect_blur_direction,t.mdp_selection_scrolling_effect_relative_to)}px)`:""},checkScreenSize:function(e,t){e&&(e.includes("mobile")&&window.matchMedia(`(max-width: ${elementorFrontend.config.responsive.activeBreakpoints.mobile.value}px)`).matches&&t(),e.includes("tablet")&&window.matchMedia(`(min-width: ${elementorFrontend.config.responsive.activeBreakpoints.mobile.value+1}px)`).matches&&window.matchMedia(`(max-width: ${elementorFrontend.config.responsive.activeBreakpoints.tablet.value}px)`).matches&&t(),e.includes("desktop")&&window.matchMedia(`(min-width: ${elementorFrontend.config.responsive.activeBreakpoints.tablet.value+1}px)`).matches&&t())}};jQuery(window).on("elementor/frontend/init",(function(){elementorFrontend.hooks.addAction("frontend/element_ready/global",(function(e){mdpScrollingEffect.setScrollingEffect.call(mdpScrollingEffect,e[0],null)}))}));